(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/pay/pay_index"],{"0abe":function(e,a,n){},"599b":function(e,a,n){"use strict";var t=function(){var e=this,a=e.$createElement,n=(e._self._c,e.getImgSrc("back/back2.png")),t=e.getImgSrc("shangjia/sj22.png"),o=e.getImgSrc("shangjia/sj21.png");e.$mp.data=Object.assign({},{$root:{m0:n,m1:t,m2:o}})},o=[];n.d(a,"a",function(){return t}),n.d(a,"b",function(){return o})},"59d0":function(e,a,n){"use strict";(function(e,n){var t;Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o={data:function(){return{currentIndex:0,payMethod:"wxpay",pay_type:"wxPay",orderInfo:"",orderId:"",payNum:0,loginInfo:{},isPayOk:!1}},onLoad:function(a){t=this,console.log(e(a," at pages\\pay\\pay_index.vue:76"));var n=this.checkLogin("../index/recommend","2");if(!n)return!1;this.loginInfo=n,void 0!=a.orderid&&void 0!=a.paynum&&(t.orderId=a.orderid,t.payNum=1*a.paynum)},components:{},methods:{wxappPay:function(a){var o=a.data.result.result;console.log(e(o," at pages\\pay\\pay_index.vue:93")),console.log(e("签名：",o.paySign," at pages\\pay\\pay_index.vue:94")),n.requestPayment({timeStamp:o.timeStamp,nonceStr:o.nonceStr,package:o.package,signType:"MD5",paySign:o.paySign,success:function(e){n.showToast({title:"恭喜升级掌柜",icon:"success"}),t.isPayOk=!0,setTimeout(function(){n.switchTab({url:"../index/recommend"})},3e3)},fail:function(a){console.log(e("fail:"+JSON.stringify(a)," at pages\\pay\\pay_index.vue:118"))}})},confirmPay:function(){var a={user_id:t.loginInfo.uid,order_sn:t.orderId,pay_code:t.pay_type,type:"1",openid:t.loginInfo.openid};console.log(e("sdfsdf:",a," at pages\\pay\\pay_index.vue:135")),n.request({url:t.$httpUrl+"index.php/api/recommend/orderPaying",method:"POST",data:a,success:function(a){if(console.log(e(a," at pages\\pay\\pay_index.vue:142")),-1!=a.data.status)if("wxpay"==t.payMethod){var o=a.data.result.result,i=JSON.stringify({appid:o.appid,noncestr:o.nonce_str,package:o.package,partnerid:o.partnerid,prepayid:o.prepay_id,sign:o.sign,timestamp:o.time});console.log(e(i," at pages\\pay\\pay_index.vue:166")),console.log(e("***************"," at pages\\pay\\pay_index.vue:167")),n.requestPayment({provider:t.payMethod,orderInfo:i,success:function(e){n.showToast({title:"恭喜升级掌柜",icon:"success"}),t.isPayOk=!0,setTimeout(function(){n.switchTab({url:"../index/recommend"})},3e3)},fail:function(a){console.log(e("fail:"+JSON.stringify(a)," at pages\\pay\\pay_index.vue:188"))}})}else"alipay"==t.payMethod&&n.requestPayment({provider:t.payMethod,orderInfo:a.data.data,success:function(e){n.showToast({title:"恭喜升级掌柜",icon:"success"}),t.isPayOk=!0,setTimeout(function(){n.switchTab({url:"../index/recommend"})},3e3)},fail:function(e){}});else n.showToast({title:a.data.msg,icon:""})},fail:function(e){},complete:function(e){}})},changePayType:function(e){t.currentIndex=e,0==e?(t.payMethod="wxpay",t.pay_type="wxPay"):(t.payMethod="alipay",t.pay_type="aliPay")},backBeforePage:function(){n.navigateBack({delta:1})}}};a.default=o}).call(this,n("0de9")["default"],n("6e42")["default"])},"6a6e":function(e,a,n){"use strict";var t=n("0abe"),o=n.n(t);o.a},9560:function(e,a,n){"use strict";n.r(a);var t=n("599b"),o=n("ccfa");for(var i in o)"default"!==i&&function(e){n.d(a,e,function(){return o[e]})}(i);n("6a6e");var c=n("2877"),s=Object(c["a"])(o["default"],t["a"],t["b"],!1,null,null,null);a["default"]=s.exports},9826:function(e,a,n){"use strict";(function(e){n("bc76"),n("921b");t(n("66fd"));var a=t(n("9560"));function t(e){return e&&e.__esModule?e:{default:e}}e(a.default)}).call(this,n("6e42")["createPage"])},ccfa:function(e,a,n){"use strict";n.r(a);var t=n("59d0"),o=n.n(t);for(var i in t)"default"!==i&&function(e){n.d(a,e,function(){return t[e]})}(i);a["default"]=o.a}},[["9826","common/runtime","common/vendor"]]]);