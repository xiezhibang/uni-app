(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/login/login"],{"1f62":function(e,n,t){},"2b75":function(e,n,t){"use strict";t.r(n);var o=t("fde3"),a=t("fac7");for(var i in a)"default"!==i&&function(e){t.d(n,e,function(){return a[e]})}(i);t("5156");var c=t("2877"),u=Object(c["a"])(a["default"],o["a"],o["b"],!1,null,null,null);n["default"]=u.exports},5156:function(e,n,t){"use strict";var o=t("1f62"),a=t.n(o);a.a},"918a":function(e,n,t){"use strict";(function(e,t){var o,a;Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var i={data:function(){return{backPage:"../index/index",backType:2,authorization:{},userInfo:{},phone:"",phoneCode:"",isShowBind:!1,canGet:!0,time1:60}},onLoad:function(n){o=this,console.log(e(n," at pages\\login\\login.vue:74")),void 0!=n.backpage&&void 0!=n.backtype&&(o.backPage=n.backpage,o.backType=n.backtype)},methods:{clearLoginTest:function(){try{t.removeStorageSync("u_id"),t.removeStorageSync("u_token"),t.removeStorageSync("u_head"),t.removeStorageSync("u_name"),t.showToast({title:"已清空登录缓存"})}catch(e){}},appLoginTest:function(){},getPhoneCode:function(){o.checkPhone(o.phone)&&t.request({url:o.$httpUrl+"index.php/api/Usersup/sendInfomes",method:"POST",data:{mobile:1*o.phone,scene:1},success:function(e){t.showToast({title:e.data.msg,icon:"none"}),1==e.data.status&&(o.timeDown(),o.canGet=!1)},fail:function(e){},complete:function(e){}})},appLoginWx:function(){},appLogin:function(){t.getProvider({service:"oauth",success:function(n){console.log(e(n.provider," at pages\\login\\login.vue:311")),~n.provider.indexOf("weixin")?t.login({provider:"weixin",success:function(e){o.authorization=e.authResult,t.getUserInfo({provider:"weixin",success:function(n){o.userInfo=n.userInfo,t.request({url:o.$httpUrl+"index.php/api/usersup/Wxlogin",method:"POST",data:{unionid:o.userInfo.unionId,openid:o.userInfo.openId,oauth:"weixin",head_pic:o.userInfo.avatarUrl,nickname:o.userInfo.nickName},success:function(n){if("1"==n.data.status){var a=n.data.result.data;try{t.setStorageSync("u_id",a.user_id),t.setStorageSync("u_token",a.token),t.setStorageSync("u_name",o.userInfo.nickName),t.setStorageSync("u_head",o.userInfo.avatarUrl),t.setStorageSync("u_openid",o.userInfo.openId),1==o.backType?t.redirectTo({url:o.backPage}):t.switchTab({url:o.backPage})}catch(i){}}else-3==n.data.status?(t.showToast({title:"请绑定手机号",icon:"none"}),o.isShowBind=!0):t.showToast({title:e.data.msg,icon:"none"})},fail:function(e){},complete:function(e){}})},fail:function(){t.showToast({title:"微信登录授权失败",icon:"none"})}})},fail:function(){t.showToast({title:"微信登录授权失败",icon:"none"})}}):t.showToast({title:"请先安装微信或升级版本",icon:"none"})}})},bindPhone:function(){o.checkPhone(o.phone)&&(""!=o.phoneCode.trim()?t.request({url:o.$httpUrl+"index.php/api/usersup/bindmobile",method:"POST",data:{unionid:o.userInfo.unionId,mobile:o.phone,code:o.phoneCode,openid:o.userInfo.openId,oauth:"weixin",head_pic:o.userInfo.avatarUrl,nickname:o.userInfo.nickName},success:function(e){if("1"==e.data.status){var n=e.data.result;try{t.setStorageSync("u_id",n.user_id),t.setStorageSync("u_token",n.token),t.setStorageSync("u_name",o.userInfo.nickName),t.setStorageSync("u_head",o.userInfo.avatarUrl),t.setStorageSync("u_openid",o.userInfo.openId),1==o.backType?t.redirectTo({url:o.backPage}):t.switchTab({url:o.backPage})}catch(a){}}else t.showToast({title:e.data.msg,icon:"none"})},fail:function(e){},complete:function(e){}}):t.showToast({title:"请输入验证码",icon:"none"}))},timeDown:function(){clearInterval(a),o.time1=60,a=setInterval(function(){o.time1=o.time1-1,o.time1<1&&(clearInterval(a),o.canGet=!0,o.time1=60)},1e3)}}};n.default=i}).call(this,t("0de9")["default"],t("6e42")["default"])},"9b7d":function(e,n,t){"use strict";(function(e){t("bc76"),t("921b");o(t("66fd"));var n=o(t("2b75"));function o(e){return e&&e.__esModule?e:{default:e}}e(n.default)}).call(this,t("6e42")["createPage"])},fac7:function(e,n,t){"use strict";t.r(n);var o=t("918a"),a=t.n(o);for(var i in o)"default"!==i&&function(e){t.d(n,e,function(){return o[e]})}(i);n["default"]=a.a},fde3:function(e,n,t){"use strict";var o=function(){var e=this,n=e.$createElement,t=(e._self._c,e.getImgSrc("tuijian/tj41.png"));e.$mp.data=Object.assign({},{$root:{m0:t}})},a=[];t.d(n,"a",function(){return o}),t.d(n,"b",function(){return a})}},[["9b7d","common/runtime","common/vendor"]]]);