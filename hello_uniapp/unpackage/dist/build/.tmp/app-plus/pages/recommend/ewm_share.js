(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/recommend/ewm_share"],{4822:function(t,e,n){"use strict";(function(t){n("bc76"),n("921b");o(n("66fd"));var e=o(n("95d0"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},8272:function(t,e,n){"use strict";n.r(e);var o=n("c479"),c=n.n(o);for(var u in o)"default"!==u&&function(t){n.d(e,t,function(){return o[t]})}(u);e["default"]=c.a},"8dd5":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement;t._self._c},c=[];n.d(e,"a",function(){return o}),n.d(e,"b",function(){return c})},"95d0":function(t,e,n){"use strict";n.r(e);var o=n("8dd5"),c=n("8272");for(var u in c)"default"!==u&&function(t){n.d(e,t,function(){return c[t]})}(u);n("fc02");var a=n("2877"),i=Object(a["a"])(c["default"],o["a"],o["b"],!1,null,null,null);e["default"]=i.exports},aada:function(t,e,n){},c479:function(t,e,n){"use strict";(function(t,n){var o;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var c={data:function(){return{openSettingBtnHidden:!0,uid:0,canSave:!0,ewmImg:"",ecode:null}},onLoad:function(t){o=this,void 0!=t.uid&&(o.uid=t.uid,o.getEwm())},components:{},methods:{handleSetting:function(t){t.detail.authSetting["scope.writePhotosAlbum"]?o.openSettingBtnHidden=!0:o.openSettingBtnHidden=!1},getEwm:function(){t.request({url:o.$httpUrl+"index.php/api/recommend/getUserqrcode",method:"POST",data:{user_id:o.uid},success:function(t){console.log(n(t," at pages\\recommend\\ewm_share.vue:83")),1==t.data.status&&(o.ecode=t.data.result.code,o.ewmImg=t.data.result.qrcode)},fail:function(t){},complete:function(t){}})},saveEwm:function(e){t.getSetting({success:function(e){e.authSetting["scope.writePhotosAlbum"]?o.saveImgToLocal():t.authorize({scope:"scope.writePhotosAlbum",success:function(){o.saveImgToLocal()},fail:function(){o.openSettingBtnHidden=!1}})}})},saveImgToLocal:function(e){t.showModal({title:"提示",content:"确定保存到相册吗",success:function(e){e.confirm?t.downloadFile({url:o.ewmImg,success:function(e){200===e.statusCode&&t.saveImageToPhotosAlbum({filePath:e.tempFilePath,success:function(){t.showToast({title:"保存成功",icon:"none"})},fail:function(){t.showToast({title:"保存失败",icon:"none"})}})}}):e.cancel}})}}};e.default=c}).call(this,n("6e42")["default"],n("0de9")["default"])},fc02:function(t,e,n){"use strict";var o=n("aada"),c=n.n(o);c.a}},[["4822","common/runtime","common/vendor"]]]);