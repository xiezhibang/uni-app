(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/shop/shop_detail"],{"15b7":function(e,t,o){"use strict";(function(e,o){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=!1,a={data:function(){return{loadData:!0,loginInfo:{},is_collect:0,shopId:0,crIndex:0,showShareBlock:!1,isShowTip:!1,shopInfo:{},couponList:[],currentPage:1,totalPage:1,isLast:!0}},onLoad:function(e){n=this;var t=this.checkLogin("../index/index","2");if(!t)return!1;this.loginInfo=t,void 0!=e.id&&(n.shopId=e.id,n.searchShopInfo(),n.lookLikeStatus())},onShow:function(){},onShareAppMessage:function(){return{title:"来和我一起Get新技能吧！",path:"/pages/index/index",imageUrl:"http://www.jfcma.com/public/images/jfcm/logo.png"}},methods:{lookBigImg:function(t){t=[t],e.previewImage({urls:t,current:1,success:function(e){},fail:function(e){},complete:function(e){}})},callPhone:function(){n.checkPhone(n.shopInfo.list.tel)&&e.makePhoneCall({phoneNumber:n.shopInfo.list.tel})},lookLikeStatus:function(){e.request({url:n.$httpUrl+"index.php/api/index/isCollect",method:"POST",data:{storeid:n.shopId,user_id:n.loginInfo.uid},success:function(e){1==e.data.status&&(n.is_collect=e.data.result)},fail:function(e){},complete:function(e){}})},likeShop:function(t){e.request({url:n.$httpUrl+"api/index/collect",method:"POST",data:{storeid:n.shopId,type:t,user_id:n.loginInfo.uid},success:function(o){1==o.data.status&&(n.is_collect=t,0==t?e.showToast({title:"取消收藏",icon:"none"}):e.showToast({title:"收藏成功",icon:"none"}))},fail:function(e){},complete:function(e){}})},nextPage:function(){if(n.isLast)e.showToast({title:"没有更多了",icon:"none"});else if(!i){i=!0;var t=n.currentPage+1;n.getShopCoupon(t)}},getShopCoupon:function(t){e.request({url:n.$httpUrl+"index.php/api/index/storeCoupon",method:"POST",data:{storeid:n.shopId,page:t,limit:3},success:function(e){1==e.data.status&&(n.couponList=n.couponList.concat(e.data.result.data),n.currentPage=e.data.result.current_page,n.isLast=n.currentPage==e.data.result.last_page)},fail:function(e){},complete:function(e){i=!1}})},searchShopInfo:function(){e.request({url:n.$httpUrl+"api/index/storeDetail",method:"POST",data:{id:n.shopId},success:function(e){1==e.data.status&&(n.shopInfo=e.data.result,n.getShopCoupon(1))},fail:function(e){},complete:function(e){n.loadData=!1}})},showTipsFun:function(){n.isShowTip=!0,setTimeout(function(){n.isShowTip=!1},1500)},shareFriendFun:function(){e.share({provider:"weixin",scene:"WXSceneSession",type:0,href:"www.baidu.com",title:"来和我一起Get新技能吧！",summary:"我用这款App领取各种吃喝玩乐优惠券，还拿到了不少的分润哦，快来和我一起享优惠、拿分润吧！",imageUrl:"http://www.jfcma.com/public/images/jfcm/logo.png",success:function(e){n.tipMsg("感谢分享！")},fail:function(e){}})},shareCircleFun:function(){e.share({provider:"weixin",scene:"WXSenceTimeline",type:0,href:"www.baidu.com",title:"来和我一起Get新技能吧！",summary:"我用这款App领取各种吃喝玩乐优惠券，还拿到了不少的分润哦，快来和我一起享优惠、拿分润吧！",imageUrl:"http://www.jfcma.com/public/images/jfcm/logo.png",success:function(e){console.log(o("success:"+JSON.stringify(e)," at pages\\shop\\shop_detail.vue:406")),n.tipMsg("感谢分享！")},fail:function(e){console.log(o("fail:"+JSON.stringify(e)," at pages\\shop\\shop_detail.vue:410"))}})},shareBlockFun:function(){n.showShareBlock=!n.showShareBlock},swiperChange:function(e){n.crIndex=e.detail.current},backBeforePage:function(){e.navigateBack({delta:1})},getTicketFun:function(t){console.log(o(t," at pages\\shop\\shop_detail.vue:429"));var i=t.currentTarget.dataset.id;e.request({url:n.$httpUrl+"api/index/getCoupon",method:"POST",data:{id:i,user_id:n.loginInfo.uid},success:function(t){console.log(o(t," at pages\\shop\\shop_detail.vue:439")),1==t.data.status?n.isShowTip||n.showTipsFun():e.showToast({title:t.data.msg,icon:"none"})},fail:function(e){},complete:function(e){}})}}};t.default=a}).call(this,o("6e42")["default"],o("0de9")["default"])},"81d9":function(e,t,o){"use strict";(function(e){o("bc76"),o("921b");n(o("66fd"));var t=n(o("fed5"));function n(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,o("6e42")["createPage"])},c220:function(e,t,o){"use strict";var n=function(){var e=this,t=e.$createElement,o=(e._self._c,e.getImgSrc("home/home6.png")),n=e.getImgSrc("home/home9.png"),i=e.getImgSrc("home/home9.png"),a=e.getImgSrc("home/home7.png"),c=e.getImgSrc("home/home19.png"),s=e.getImgSrc("home/home8.png"),u=e.getImgSrc("home/home1.png"),r=e.getImgSrc("home/home2.png"),l=e.getImgSrc("home/home15.png"),p=e.getImgSrc("home/home21.png"),f=e.getImgSrc("home/home3.png"),h=e.getImgSrc("home/home33.png");e.$mp.data=Object.assign({},{$root:{m0:o,m1:n,m2:i,m3:a,m4:c,m5:s,m6:u,m7:r,m8:l,m9:p,m10:f,m11:h}})},i=[];o.d(t,"a",function(){return n}),o.d(t,"b",function(){return i})},dba3:function(e,t,o){"use strict";var n=o("f1d4"),i=o.n(n);i.a},e7cc:function(e,t,o){"use strict";o.r(t);var n=o("15b7"),i=o.n(n);for(var a in n)"default"!==a&&function(e){o.d(t,e,function(){return n[e]})}(a);t["default"]=i.a},f1d4:function(e,t,o){},fed5:function(e,t,o){"use strict";o.r(t);var n=o("c220"),i=o("e7cc");for(var a in i)"default"!==a&&function(e){o.d(t,e,function(){return i[e]})}(a);o("dba3");var c=o("2877"),s=Object(c["a"])(i["default"],n["a"],n["b"],!1,null,null,null);t["default"]=s.exports}},[["81d9","common/runtime","common/vendor"]]]);