(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages/index/index"],[
/* 0 */,
/* 1 */,
/* 2 */,
/* 3 */,
/* 4 */,
/* 5 */,
/* 6 */,
/* 7 */,
/* 8 */,
/* 9 */,
/* 10 */,
/* 11 */,
/* 12 */,
/* 13 */,
/* 14 */,
/* 15 */
/*!********************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/hello_uniapp/main.js?{"page":"pages%2Findex%2Findex"} ***!
  \********************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(createPage) {__webpack_require__(/*! uni-pages */ 4);__webpack_require__(/*! @dcloudio/uni-stat */ 5);

var _vue = _interopRequireDefault(__webpack_require__(/*! vue */ 2));
var _index = _interopRequireDefault(__webpack_require__(/*! ./pages/index/index.vue */ 16));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}
createPage(_index.default);
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["createPage"]))

/***/ }),
/* 16 */
/*!*************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/hello_uniapp/pages/index/index.vue ***!
  \*************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _index_vue_vue_type_template_id_00a0ce6f___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./index.vue?vue&type=template&id=00a0ce6f& */ 17);
/* harmony import */ var _index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.vue?vue&type=script&lang=js& */ 19);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./index.vue?vue&type=style&index=0&lang=css& */ 22);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/vue-loader/lib/runtime/componentNormalizer.js */ 14);






/* normalize component */

var component = Object(_D_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _index_vue_vue_type_template_id_00a0ce6f___WEBPACK_IMPORTED_MODULE_0__["render"],
  _index_vue_vue_type_template_id_00a0ce6f___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null
  
)

/* hot reload */
if (false) { var api; }
component.options.__file = "C:/Users/Administrator/Desktop/hello_uniapp/pages/index/index.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),
/* 17 */
/*!********************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/hello_uniapp/pages/index/index.vue?vue&type=template&id=00a0ce6f& ***!
  \********************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_template_id_00a0ce6f___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=template&id=00a0ce6f& */ 18);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_template_id_00a0ce6f___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_template_id_00a0ce6f___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });



/***/ }),
/* 18 */
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Administrator/Desktop/hello_uniapp/pages/index/index.vue?vue&type=template&id=00a0ce6f& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  var m0 = _vm.getImgSrc("home/home13.png")
  var m1 = _vm.getImgSrc("home/home14.png")
  var m2 = _vm.getImgSrc("home/home15.png")
  var m3 = _vm.getImgSrc("home/home10.png")
  var m4 = _vm.getImgSrc("home/home11.png")
  var m5 = _vm.getImgSrc("home/home12.png")
  var m6 = _vm.getImgSrc("home/home5.png")
  var m7 = _vm.getImgSrc("home/home4.png")

  var l0 = _vm.__map(_vm.shopList, function(item, __i1__) {
    var g0 = Math.round(item.distance / 100)
    return {
      $orig: _vm.__get_orig(item),
      g0: g0
    }
  })

  _vm.$mp.data = Object.assign(
    {},
    {
      $root: {
        m0: m0,
        m1: m1,
        m2: m2,
        m3: m3,
        m4: m4,
        m5: m5,
        m6: m6,
        m7: m7,
        l0: l0
      }
    }
  )
}
var staticRenderFns = []
render._withStripped = true



/***/ }),
/* 19 */
/*!**************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/hello_uniapp/pages/index/index.vue?vue&type=script&lang=js& ***!
  \**************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=script&lang=js& */ 20);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),
/* 20 */
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Administrator/Desktop/hello_uniapp/pages/index/index.vue?vue&type=script&lang=js& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;




























































































































var _area = _interopRequireDefault(__webpack_require__(/*! ../../common/area.js */ 21));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };} //
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
//
var areaList = _area.default.cityArr;var isLoadInterFace = false;var cityStr = "广州市";var _self;var _default = { data: function data() {return { listIsFree: false, showLoadTip: false, //纬度
      longitude: 113.316444, //经度
      latitude: 23.126825, //搜索
      searchWord: "", //城市定位
      city_name: "广州市", //是否遮罩商品
      shadowLayer: false, //轮播图
      adList: [], //分类列表
      typeList: [], //首页店铺列表
      shopList: [], currentPage: 1, totalPage: 1, isLast: true, toolArray: [{ name: "分类", id: "0", list: [] }, { name: "附近", id: "1", list: [{ name: "不限", val: "-1" }, { name: "500m", val: "1" }, { name: "1000m", val: "2" }, { name: "2000m", val: "3" }, { name: "5000m", val: "4" }] }, { name: "区域", id: "2", list: [] }, { name: "排序", id: "3", list: [{ name: "默认", val: "-1" }, { name: "分润高优先", val: "1" }, { name: "距离近优先", val: "2" }, { name: "好评高优先", val: "3" }, { name: "人均低优先", val: "4" }, { name: "人均高优先", val: "5" }] }, { name: "筛选", id: "4", list: [{ name: "红包", val: "1" }, { name: "满减", val: "2" }, { name: "闲置", val: "3" }, { name: "价格区间20-50", val: "4" }, { name: "价格区间50-100", val: "5" }, { name: "价格区间100以上", val: "6" }] }], atIndex: null, isShowShadow: false, currentIndex1: -1, currentIndex2: -1, currentIndex3: -1, currentIndex4: -1, currentIndex5: -1, type1: null, type2: null, type3: null, type4: null, type5: null };}, onPullDownRefresh: function onPullDownRefresh() {_self = this; //console.log('refresh');
    setTimeout(function () {uni.stopPullDownRefresh();
      _self.searchWord = "";
      _self.atIndex = null,
      _self.isShowShadow = false,
      _self.shadowLayer = false;
      _self.searchShop();
      _self.beginOnload();
    }, 1000);
  },
  onShow: function onShow() {
    _self = this;

    uni.getStorage({
      key: 'city',
      success: function success(res) {
        if (res.data.cityName != cityStr) {
          cityStr = res.data.cityName;
          _self.city_name = cityStr;
          setTimeout(function () {
            _self.updateCityArea();
          }, 500);
        }
      }, fail: function fail() {

      } });


  },
  onReachBottom: function onReachBottom() {
    this.nextPage();
  },
  onShareAppMessage: function onShareAppMessage() {
    return {
      title: "来和我一起Get新技能吧！",
      path: '/pages/index/index',
      imageUrl: 'http://www.jfcma.com/public/images/jfcm/logo.png' };

  },
  onLoad: function onLoad(opt) {
    _self = this;

    uni.getNetworkType({
      success: function success(res) {
        if (res.networkType == "none") {
          uni.showModal({
            title: '提示',
            showCancel: false,
            confirmText: "知道了",
            content: '请连接网络后再试！',
            success: function success(res) {

            } });

        }
      } });


    uni.removeStorage({
      key: 'city',
      success: function success(res) {
        //console.log('success');
      } });


    uni.getLocation({
      type: 'wgs84',
      geocode: true,
      success: function success(res) {
        _self.latitude = res.latitude;
        _self.longitude = res.longitude;
        _self.getCurrentSite(res.longitude, res.latitude);
      }, fail: function fail() {
        _self.tipMsg("地址信息获取失败请手动选择");
        _self.updateCityArea();

      }, complete: function complete() {
        _self.shopList = [];
        _self.loadShopList(1);
      } });


    this.beginOnload();

  },
  onPageScroll: function onPageScroll(e) {//nvue暂不支持滚动监听，可用bindingx代替

  },
  methods: {
    //根据经纬度拿到当前省市区
    getCurrentSite: function getCurrentSite(lng, lat) {
      uni.request({
        url: "https://restapi.amap.com/v3/geocode/regeo?output=json&location=" + lng + "," + lat + "&key=f37d49f85f46c59af0ee84115b6c1f3c&radius=0&extensions=all",
        method: "POST",
        success: function success(res) {
          //console.log(res);
          if (res.data.info == "OK") {
            cityStr = res.data.regeocode.addressComponent.city;
            if (cityStr instanceof Array) {
              cityStr = res.data.regeocode.addressComponent.province;
            }
            _self.city_name = cityStr;
            _self.updateCityArea();

          }


        }, fail: function fail(e) {
          _self.tipMsg("地址信息获取失败请手动选择");
          _self.updateCityArea();
        }, complete: function complete(e) {

        } });

    },
    //去店铺详情页
    goDetail: function goDetail(id) {
      uni.navigateTo({
        url: "/pages/shop/shop_detail?id=" + id });

    },
    //去店铺列表页
    goTypePage: function goTypePage(e) {

      var tag = e.currentTarget.dataset;
      var obj = {
        id: tag.id,
        index: tag.index,
        name: tag.name,
        city: _self.city_name,
        longitude: _self.longitude,
        latitude: _self.latitude };


      uni.navigateTo({
        url: '/pages/shop/shop_list?item=' + JSON.stringify(obj) });


    },
    //初始化
    initProp: function initProp(flag) {
      isLoadInterFace = false;
      _self.currentPage = 1;
      _self.isLast = true;
      _self.shopList = [];
      if (flag) {
        _self.currentIndex1 = -1;
        _self.currentIndex2 = -1;
        _self.currentIndex3 = -1;
        _self.currentIndex4 = -1;
        _self.currentIndex5 = -1;
        _self.type1 = null;
        _self.type2 = null;
        _self.type3 = null;
        _self.type4 = null;
        _self.type5 = null;
        _self.toolArray[0].name = "分类";
        _self.toolArray[1].name = "附近";
        _self.toolArray[2].name = "区域";
        _self.toolArray[3].name = "排序";
        _self.toolArray[4].name = "筛选";
      }
    },
    //搜索
    searchShop: function searchShop() {
      _self.initProp(true);
      _self.loadShopList(1, _self.searchWord);
    },
    //加载店铺
    loadShopList: function loadShopList(page, search, prop1, prop2, prop3, prop4, prop5) {
      var pageIndex = page;
      var dataObj = {
        limit: 10,
        page: pageIndex,
        lat: _self.latitude,
        lng: _self.longitude };

      if (search != undefined && search.trim() != "") {
        dataObj.keyword = search;
      }
      if (prop1 != undefined && prop1 != null && prop1 != -1) {
        dataObj.cat_id = prop1;
      }
      if (prop2 != undefined && prop2 != null && prop2 != -1) {
        dataObj.distance = prop2;
      }
      if (prop3 != undefined && prop3 != null && prop3 != "-1") {
        dataObj.districts = prop3;
      }
      if (prop4 != undefined && prop4 != null && prop4 != -1) {
        dataObj.sort = prop4;
      }
      if (prop5 != undefined && prop5 != null && prop5 != -1) {
        dataObj.type = prop5;
      }

      //console.log(dataObj);
      //加载首页店铺列表
      uni.request({
        url: _self.$httpUrl + 'index.php/api/index/getstoremess',
        method: "POST",
        data: dataObj,
        success: function success(res) {
          //console.log(res);

          var dataRes = res.data.result;

          if (res.data.status == "1" && res.data.result.data.length != 0) {

            //判断是否最后一页
            _self.isLast = pageIndex >= dataRes.last_page ? true : false;
            _self.currentPage = pageIndex;

            _self.shopList = _self.shopList.concat(res.data.result.data);

          }

          if (_self.shopList.length <= 0) {
            _self.listIsFree = true;
          } else {
            _self.listIsFree = false;
          }

        }, fail: function fail(e) {

        }, complete: function complete(e) {
          isLoadInterFace = false;
          _self.showLoadTip = false;
        } });


    },
    //加载下一页
    nextPage: function nextPage() {
      if (_self.isLast) {
        uni.showToast({
          title: '没有更多了',
          icon: "none" });

      } else {
        if (!isLoadInterFace) {
          isLoadInterFace = true;
          _self.showLoadTip = true;
          var pageNum = _self.currentPage + 1;
          _self.loadShopList(pageNum, _self.searchWord, _self.type1, _self.type2, _self.type3, _self.type4, _self.type5);
        }
      }
    },
    //去选择城市
    goChangeCity: function goChangeCity() {
      uni.navigateTo({
        url: "/pages/city_list/city_list?city=" + _self.city_name });


      _self.atIndex = null;
      _self.shadowLayer = false;
    },
    //更新城市区域
    updateCityArea: function updateCityArea() {
      if (areaList != null) {
        var cityWord = cityStr.replace("市", "");
        var cityAreaArr = [];
        for (var i = 0; i < areaList.length; i++) {
          if (cityAreaArr.length > 0) {
            break;
          }
          for (var j = 0; j < areaList[i].city.length; j++) {
            if (areaList[i].city[j].name.indexOf(cityWord) != -1) {
              cityAreaArr = areaList[i].city[j].area;
              break;
            }
          }
        }
        setTimeout(function () {
          _self.updateArea(cityAreaArr);
        }, 200);
      }
    },
    //同步区域
    updateArea: function updateArea(list) {
      var arr = [{ name: "不限", val: "-1" }];
      for (var i = 0; i < list.length; i++) {
        var obj = { name: list[i], val: list[i] };
        arr.push(obj);
      }
      _self.currentIndex3 = -1;
      _self.type3 = null;
      _self.toolArray[2].list = arr;
    },
    //i:列表选项索引，id:列表块索引，v:列表块所选参数
    changeType: function changeType(i, id, v, name) {
      //console.log(i,id,v,name);
      switch (id) {
        case 0:_self.currentIndex1 = i;_self.type1 = v * 1;_self.toolArray[0].name = name;break;
        case 1:_self.currentIndex2 = i;_self.type2 = v * 1;_self.toolArray[1].name = name;break;
        case 2:_self.currentIndex3 = i;_self.type3 = v;_self.toolArray[2].name = name;break;
        case 3:_self.currentIndex4 = i;_self.type4 = v * 1;_self.toolArray[3].name = name;break;
        case 4:_self.currentIndex5 = i;_self.type5 = v * 1;_self.toolArray[4].name = name;break;}

      _self.atIndex = null;
      _self.shadowLayer = false;

      _self.initProp(false);
      _self.loadShopList(1, _self.searchWord, _self.type1, _self.type2, _self.type3, _self.type4, _self.type5);


    },
    changeToolList: function changeToolList(i) {
      if (i === _self.atIndex) {
        _self.atIndex = null;
        _self.shadowLayer = false;
      } else {
        _self.atIndex = i;
        _self.shadowLayer = true;
      }

    },
    hideLayer: function hideLayer() {
      _self.atIndex = null;
      _self.shadowLayer = false;
    },
    homeShare: function homeShare(e) {
      //检查是否登录

      _self.isShowShadow = !_self.isShowShadow;

      if (e == 0) {
        //console.log("扫码");

        uni.scanCode({
          success: function success(res) {
            //console.log('条码类型：' + res.scanType);
            //console.log('条码内容：' + res.result);

            if (res.result.indexOf("jfcm_sym") != -1) {
              uni.navigateTo({
                url: "/pages/shop/canuse_ticket?id=" + res.result.split("=")[1] });

            } else {
              _self.tipMsg("请扫描正确的收银码");
            }

          } });


      } else if (e == 1) {
        //console.log("收藏");
        uni.navigateTo({
          url: '/pages/shop/collect_shop' });


      } else if (e == 2) {
        //console.log("活动券");
        uni.navigateTo({
          url: '../shop/ticket_list' });

      }

    },
    //onload时触发
    beginOnload: function beginOnload() {
      // 加载首页轮播图
      uni.request({
        url: _self.$httpUrl + 'index.php/Api/index/getad',
        method: "POST",
        data: {
          pid: 51317 },

        success: function success(res) {
          if (res.data.status == "1" && res.data.result.length != 0) {
            _self.adList = res.data.result;
            //console.log(_self.adList)
          }

        }, fail: function fail(e) {

        }, complete: function complete(e) {

        } });


      //加载分类数据
      uni.request({
        url: _self.$httpUrl + 'index.php/Api/index/getcategory',
        method: "POST",
        success: function success(res) {
          //console.log(res);
          if (res.data.status == "1" && res.data.result.length != 0) {
            var tyList = res.data.result;
            _self.typeList = tyList;
            var arr = [];
            for (var i = 0; i < tyList.length; i++) {
              var obj = {
                name: tyList[i].name,
                val: tyList[i].id + "" };

              arr.push(obj);
            }
            _self.toolArray[0].list = arr;
          }

        }, fail: function fail(e) {

        }, complete: function complete(e) {

        } });

    } } };exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),
/* 21 */,
/* 22 */
/*!**********************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/hello_uniapp/pages/index/index.vue?vue&type=style&index=0&lang=css& ***!
  \**********************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-1!./node_modules/css-loader??ref--6-oneOf-1-2!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./index.vue?vue&type=style&index=0&lang=css& */ 23);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_custom_block_loader_index_js_ref_0_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_index_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),
/* 23 */
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-1!./node_modules/css-loader??ref--6-oneOf-1-2!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-custom-block-loader??ref--0-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Administrator/Desktop/hello_uniapp/pages/index/index.vue?vue&type=style&index=0&lang=css& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin

/***/ })
],[[15,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/index/index.js.map